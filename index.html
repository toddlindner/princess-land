<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Princess Land</title>
<link rel="stylesheet" href="reset.css" />
<style>
body {
	background-color: black;
}
#root {
	position: absolute;
	top: 50px;
}
.box, .card {
	position: absolute;
	border: 2px white solid;
	text-align: center;
	vertical-align: middle;
}
.box {
	background-color: red;
}
.card {
	background-color: blue;
}
</style>
<script src="jquery-2.2.0.min.js"></script>
<script src="jquery-ui.min.js"></script>
<script src="jquery.ui.touch-punch.min.js"></script>
<script>
$(function() {

var box = { w: 100, h: 80 };
var space = box.w / 5;

var initial = { x: 500, y: 500 };

var card = { w: 150, h: 130 };

var players = [ 
	{ x: box.w * 8, y: box.h * 1 }, 
	{ x: box.w * 8, y: box.h * 6 } 
];

function createBox(num) {
	// $('<img>').attr('src','image1.jpg').appendTo('#div');
	return move($('<div>'), initial.x, initial.y).addClass('box')
		.width(box.w).height(box.h).css('line-height', box.h + 'px')
		.text(num)
		.appendTo('#root');
}

var positions = [
[0,1],
[0,2],
[0,3],
[0,4],
[0,5],
[1,5.5],
[2,5],
[2,4],
[2,3],
[2,2],
[2,1],
[3,0.5],
[4,1],
[4,2],
[4,3],
[4,4],
[4,5],
[5,5.5],
[6,5],
[6,4],
[6,3],
[6,2],
[6,1]
];
var boxes = [];
function buildBoard() {
	// for (i=0; i<35; ++i) {
	// 	var x = box.w + space + i * (box.w + space)
	// 	var y = space + Math.floor(i/5) * (box.h + space);
	// 	boxes.push(animate(createBox(i + 1), x, y));
	// }
	positions.forEach(function(pos, i) {
		var x = pos[1] * (box.w + space) - box.w / 2 + space;
		var y = pos[0] * (box.h + space) + space;
		boxes.push(animate(createBox(i + 1), x, y));
	});
}

function placeCards() {
	function place(player, i) {
		if (!player.name) {
			player.name = 'Player ' + (i+1);
		}
		player.obj = move($('<div>'), player.x, player.y).addClass('card')
			.width(card.w).height(card.h).css('line-height', card.h + 'px')
			.text(player.name)
			.appendTo('#root');
	}
	players.forEach(place);

	deck = { name: 'Deck', x: box.w * 8, y: box.h * 3.5 };
	place(deck);
	deck.obj.draggable();
}

function animate(obj, x, y) {
	obj.animate({ left: x, top: y }, { duration: 400, easing: 'swing'});
	return obj;
}

function move(obj, x, y) {
	obj.css({ left: x, top: y });
	return obj;
}

buildBoard();
placeCards();

});
</script>
</head>
<body>
<div id="root"></div>
</body>
</html>
